<template>
  <ux-dialog class="col-sm-6">
    <ux-dialog-body>
      <h2>Withdraw From Study</h2>
      <p>
        Withdrawing from the study will delete all the data related to your
        account.
        The data cannot be retrieved after the withdrawal.
      </p>
      <div if.bind="!withdrawal">
        <button class="btn btn-danger btn-lg btn-block" click.delegate="preConfirm()">
          I want to withdraw from the study
        </button>
      </div>
      <div else>
        <p>
          If you want to participate in the giveaway, please fill in your email address below
        </p>
        <p>
          <label for="withdraw-giveaway-email-address">Email address</label>
          <input class="form-control" type="email" id="withdraw-giveaway-email-address" value.bind="withdrawal.giveawayEmailAddress" />
        </p>
        <button class="btn btn-danger btn-lg btn-block" click.delegate="confirm()"
          disabled.bind="http.isRequesting">
          Confirm withdrawal
        </button>
        <p class="text-danger" show.bind="hasError">
          Error in withdrawal, please contact the experimenter. 
        </p>
      </div>
    </ux-dialog-body>

    <ux-dialog-footer>
      <button click.trigger="dialogController.cancel()">Cancel</button>
    </ux-dialog-footer>
  </ux-dialog>
</template>
